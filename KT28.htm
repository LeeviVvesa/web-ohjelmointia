<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/redmond/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <title>KT28 Vehreävesa</title>
    <!--
    28. Lisää edelliseen tehtävään: jos käyttäjä valitsee "Opiskelija" checkbox:n, 
    näytetään käyttäjälle myös input kenttä "Opiskelijanro" ja käyttäjä pitää 
    syöttää myös opiskelijanumero (tulosta myös tämä arvo div-lohkoon).
    -->

    <style>
        #div_1 {
            display: grid;
            height: 400px;
            grid-template-columns: 1fr 1fr;
            margin-top: 40px;

        }
    </style>

    <script>

        function tarkasta() {
            let nimi = String(document.getElementById("name").value);
            let osoite = String(document.getElementById("address").value);
            let ammatti = document.querySelector(".ammatit").value;

            let nimitrim = nimi.trim();
            let osoitetrim = osoite.trim();

            if (nimitrim == "" && osoitetrim == "" || nimitrim == null && osoitetrim == null) {
                alert("Cmoon, nimi JA osoitekenttä ovat tyhjiä");
            }

            else if (nimitrim == "" || nimitrim == null) {
                alert("Nimikenttä on tyhjä");
            }

            else if (osoitetrim == "") {
                alert("Osoitekenttä on tyhjä");
            }

            else {
                document.getElementById("tiedot").innerHTML = "Nimi:" + nimitrim + " Osoite:" + osoitetrim;
                document.getElementById("tiedot2").innerHTML = "Ammatti: " + ammatti;
            }
            myFunction();
            tallenna();
        }

        function opiskelijanumero() {
            let checkBox3 = document.getElementById("opiskelija");
            if (checkBox3.checked == true) {
                document.getElementById("numero").innerHTML = "Opiskelijanumero: <input type='text' id='numero'>";
            } else {
                text2.style.display = "none";
            }
            
        }

        function tallenna() {
            let opnro = String(document.getElementById("numero").value);
            document.getElementById("tiedot6").innerHTML = "Opiskelijanumero: " + opnro + "  En saa opiskelijanroa tulostumaan..";
        }
    </script>

</head>

<body>

    <div id="div_1">
        <div style="background-color:springgreen; text-align: center;">

            <h2 style="color: palevioletred;"><b>Rekisteröidy kissanäyttelyyn tästä:</b></h2>
            <div>
                <form>
                    NIMI: <input type="text" id="name">
                    OSOITE: <input type="text" id="address">
                </form>
            </div>
            <hr>
            <div>
                <form>
                    Valitse ammattisi:<select class="ammatit">
                        <option value="Nyrkkeilijä">Nyrkkeilijä</option>
                        <option value="Taiteilija">Taiteilija</option>
                        <option value="Kalastaja">Kalastaja</option>
                        <option value="ATK-tukihenkilö">ATK-tukihenkilö</option>
                    </select>
                </form>
            </div>
            <hr>
            <div>
                <form>
                    Erityisruokavalio <input type="checkbox" id="ruokavalio" value="Erityisruokavalio">
                </form>
                <form>
                    Tarvitsee majoituksen <input type="checkbox" id="majoitus" value="Majoitus">
                </form>
                <form>
                    Opiskelija <input type="checkbox" id="opiskelija" value="Opiskelija" onclick="opiskelijanumero()">
                    <div id="numero"></div>
                </form>
            </div>
            <hr>
            <button onclick="tarkasta()">REKISTERÖIDY</button>
        </div>

        <div style="background-color:peachpuff; text-align: center;">
            <form>
                <div>
                    <p id="tiedot"></p>
                    <p id="tiedot2"></p>
                    <p id="tiedot3"></p>
                    <p id="tiedot4"></p>
                    <p id="tiedot5"></p>
                    <p id="tiedot6"></p>
                    <p>Tyhjistä kentistä pitäisi tulla virheilmoitus alerttina</p>
                    <p>Checkboxit rekisteröityy kerran, täytyy päivittää sivu, mikäli haluaa muuttaa valintaa</p>
                </div>
            </form>
        </div>

    </div>

    <script>
        function myFunction() {

            let checkBox = document.getElementById("ruokavalio");
            let text = document.getElementById("tiedot3");

            if (checkBox.checked == true) {
                document.getElementById("tiedot3").innerHTML = "Erityisruokavalio";
            } else {
                text.style.display = "none";
            }

            let checkBox1 = document.getElementById("majoitus");
            let text1 = document.getElementById("tiedot4");

            if (checkBox1.checked == true) {
                document.getElementById("tiedot4").innerHTML = "Tarvitsee majoituksen";
            } else {
                text1.style.display = "none";
            }

            let checkBox2 = document.getElementById("opiskelija");
            let text2 = document.getElementById("tiedot5");

            if (checkBox2.checked == true) {
                document.getElementById("tiedot5").innerHTML = "Opiskelija";
            } else {
                text2.style.display = "none";
            }
        }
    </script>



</body>

</html>